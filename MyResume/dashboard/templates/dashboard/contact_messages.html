{% extends 'dashboard/base.html' %}

{% block title %} Messages {% endblock %}

{% block content %}

{% load static %}

<div class="mb-5 header">
    <h2 class="faculty_glyphic_bold">Received Messages</h2>

</div>

<div class="mt-2 table-container">
    <table class="table table-striped">
        <thead>
            <tr>
                <th>First Name</th>
                <th>Last Name</th>
                <th>Email</th>
                <th>Message</th>
                <th>Created At</th>
                <th>Delete?</th>
            </tr>
        </thead>
        <tbody>
            {% for message in messages %}
                <tr>
                    <td>{{message.first_name}} </td>
                    <td>{{message.last_name}} </td>
                    <td>{{message.email}} </td>
                    <td>{{message.message}} </td>
                    <td>{{message.created_at}} </td>
                    <td>
                        <a href="{% url 'dashboard:delete_contact_message_view' message.id %}" class="btn btn-danger btn-sm" 
                        onclick="return confirm('Are you sure you want to delete this message from {{ message.first_name }} {{ message.last_name }}?');">
                            Delete
                        </a>
                    </td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

{% endblock %}